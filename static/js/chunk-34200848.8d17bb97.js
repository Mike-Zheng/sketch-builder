(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34200848"],{"19a1":function(t,e,i){"use strict";i("478e")},"1ae1":function(t,e,i){},"24d7":function(t,e,i){},"27d2":function(t,e,i){"use strict";i("8d17")},"27d4":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return o}));i("07ac");var a=i("ed08"),n={$class:"",$name:"",$id:"",edit:{visible:!0,opacity:1,selected:!1,disconnected:!1,editing:!1},type:{_typeId:"",_template:"",_templateAttr:"",_icon:""},frame:{height:0,width:0,x:0,y:0,minHeight:0,minWidth:0},property:{},style:{border:{enabled:!1,style:"none",color:"transparent",width:0,radius:0},fills:{enabled:!1,color:"transparent"}},dataSource:{getter:[],action:[]}},s={icon:Object(a["b"])({},n,{type:{_typeId:"icon",_template:"ItemRectangle",_templateAttr:"ItemRectangleAttr"},style:{border:{enabled:!0,style:"solid",color:"#999",width:1,radius:0}},property:{}})},o={switch:Object(a["b"])({},n,{type:{_typeId:"switch",_template:"ItemSwitch",_templateAttr:"ItemSwitchAttr",_icon:"switch",_text:"Toggle"}}),lamp:Object(a["b"])({},n,{type:{_typeId:"lamp",_template:"ItemLamp",_templateAttr:"ItemLampAttr",_icon:"lamp",_text:"Lamp"}}),number:Object(a["b"])({},n,{type:{_typeId:"number",_template:"ItemNumber",_templateAttr:"ItemNumberAttr",_icon:"number",_text:"Number"}}),"number-input":Object(a["b"])({},n,{type:{_typeId:"number-input",_template:"ItemNumberInput",_templateAttr:"ItemNumberInputAttr",_icon:"number-input",_text:"Input"}}),word:Object(a["b"])({},n,{type:{_typeId:"word",_template:"ItemWord",_templateAttr:"ItemWordAttr",_icon:"word",_text:"Text"}}),"word-input":Object(a["b"])({},n,{type:{_typeId:"word-input",_template:"ItemWordInput",_templateAttr:"ItemWordInputAttr",_icon:"word-input",_text:"Text Input"}}),progess:Object(a["b"])({},n,{type:{_typeId:"progess",_template:"ItemProgess",_templateAttr:"ItemProgessAttr",_icon:"progess",_text:"Progess"}}),meter:Object(a["b"])({},n,{type:{_typeId:"meter",_template:"ItemMeter",_templateAttr:"ItemMeterAttr",_icon:"meter",_text:"Meter"}})};Object.values(s)},"2b00":function(t,e,i){"use strict";i("24d7")},"2ebd":function(t,e,i){"use strict";i("651d")},"478e":function(t,e,i){},"4daa":function(t,e,i){},5620:function(t,e,i){"use strict";i("711e")},6031:function(t,e,i){"use strict";i("8227")},"651d":function(t,e,i){},"671e":function(t,e,i){"use strict";i("df53")},"711e":function(t,e,i){},7463:function(t,e,i){},8227:function(t,e,i){},"8d17":function(t,e,i){},9325:function(t,e,i){},a486:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fullscreen",{ref:"fullscreen",staticClass:"fullscreen",attrs:{fullscreen:t.fullscreen,background:"background-color: #181a1e"},on:{"update:fullscreen":function(e){t.fullscreen=e}}},[i("div",{staticClass:"main-editor"},[i("div",{staticClass:"app-toggle",class:{"sidebar-hide":!t.showAppSideBar},on:{click:t.toggleSidebar}},[t.showAppSideBar?i("i",{staticClass:"mdi mdi-keyboard-arrow-left"}):i("i",{staticClass:"mdi mdi-keyboard-arrow-right"})]),i("div",{staticClass:"app-sidebar-wrapper",class:{"app-sidebar-wrapper--hide":!t.showAppSideBar}},[i("div",{staticClass:"app-sidebar"},[i("div",{staticClass:"sidebar-logo"},[i("i",{staticClass:"mdi mdi-camera"})]),i("ul",{staticClass:"sidebar-tab"},[i("li",{staticClass:"tab-item",class:{"tab-item__activated":"layers"==t.sidebarTab},on:{click:function(e){t.sidebarTab="layers"}}},[i("div",{staticClass:"tab-item__icon"},[i("svg-icon",{attrs:{"icon-class":"layers"}})],1),i("div",{staticClass:"tab-item__text"},[t._v(" Layer ")])]),i("li",{staticClass:"tab-item",class:{"tab-item__activated":"cloud"==t.sidebarTab},on:{click:function(e){t.sidebarTab="cloud"}}},[i("div",{staticClass:"tab-item__icon"},[i("svg-icon",{attrs:{"icon-class":"cloud-device"}})],1),i("div",{staticClass:"tab-item__text"},[t._v(" Cloud ")])]),i("li",{staticClass:"tab-item",class:{"tab-item__activated":"widget"==t.sidebarTab},on:{click:function(e){t.sidebarTab="widget"}}},[i("div",{staticClass:"tab-item__icon"},[i("i",{staticClass:"mdi mdi-widgets"})]),i("div",{staticClass:"tab-item__text"},[t._v(" Widget ")])]),i("li",{staticClass:"tab-item",class:{"tab-item__activated":"chart"==t.sidebarTab},on:{click:function(e){t.sidebarTab="chart"}}},[i("div",{staticClass:"tab-item__icon"},[i("svg-icon",{attrs:{"icon-class":"bar-chart"}})],1),i("div",{staticClass:"tab-item__text"},[t._v(" Chart ")])])])])]),i("div",{staticClass:"app-wrapper",class:{"app-wrapper--wide":!t.showAppSideBar}},[i("div",{staticClass:"app-container"},[i("div",{staticClass:"app-header-wrapper"},[i("div",{staticClass:"app-header"},[i("div",{staticClass:"logo-wrapper"},[i("div",{staticClass:"logo"},[i("svg-pic",{attrs:{"icon-class":"pic-sheep"}})],1),i("div",{staticClass:"logo-info"},[i("div",{staticClass:"logo-info__main"},[t._v(" Version 1 Beta Public Release ")]),i("div",{staticClass:"logo-info__meta"},[t._v("Mike Sketch Builder Online")])])]),i("div",{staticClass:"header-tools"},[i("el-button",[i("svg-icon",{attrs:{"icon-class":"eye"}}),t._v("Preview")],1),i("el-button",{staticStyle:{"margin-left":"12px"},attrs:{type:"primary"},on:{click:t.save}},[i("svg-icon",{attrs:{"icon-class":"floppy-disk"}}),t._v("Save")],1)],1)])]),i("div",{staticClass:"left-sidebar-wrapper main-sidebar"},[i("div",{staticClass:"left-sidebar-wrapper__content"},["widget"==t.sidebarTab?i("library-panel"):t._e(),"layers"==t.sidebarTab?i("layer-panel"):t._e(),"cloud"==t.sidebarTab?i("cloud-panel"):t._e()],1),i("div",{staticClass:"left-sidebar-wrapper__basic"},[i("ul",[i("li",{staticClass:"basic-tool basic-tool__activated",attrs:{title:"select"}},[i("svg-icon",{attrs:{"icon-class":"cursor"}})],1),i("li",{staticClass:"basic-tool",attrs:{title:"text"}},[i("svg-icon",{attrs:{"icon-class":"text"}})],1),i("li",{staticClass:"basic-tool",attrs:{title:"image"}},[i("svg-icon",{attrs:{"icon-class":"photo"}})],1),i("li",{staticClass:"basic-tool",attrs:{title:"line"}},[i("svg-icon",{attrs:{"icon-class":"line"}})],1),i("li",{staticClass:"basic-tool",attrs:{title:"rectangle"}},[i("svg-icon",{attrs:{"icon-class":"rectangle"}})],1),i("li",{staticClass:"basic-tool",attrs:{title:"circle"}},[i("svg-icon",{attrs:{"icon-class":"circle"}})],1)])])]),i("div",{staticClass:"work-area-panel"},[i("div",{staticClass:"action-tool"},[i("ul",{staticClass:"action-tool-list"},[i("li",{staticClass:"action-tool-item",class:{"action-tool-item__disabled":!t.isUndoEnabled},attrs:{title:"Undo"},on:{click:function(e){return t.$store.dispatch("editor/undo")}}},[i("i",{staticClass:"mdi mdi-undo"})]),i("li",{staticClass:"action-tool-item",class:{"action-tool-item__disabled":!t.isRedoEnabled},attrs:{title:"Redo"},on:{click:function(e){return t.$store.dispatch("editor/redo")}}},[i("i",{staticClass:"mdi mdi-redo"})]),i("li",{staticClass:"action-tool-item"},[i("svg-icon",{attrs:{"icon-class":"align-left"}})],1),i("li",{staticClass:"action-tool-item"},[i("svg-icon",{attrs:{"icon-class":"align-center-row"}})],1),i("li",{staticClass:"action-tool-item"},[i("svg-icon",{attrs:{"icon-class":"align-right"}})],1),i("li",{staticClass:"action-tool-item"},[i("svg-icon",{attrs:{"icon-class":"align-top"}})],1),i("li",{staticClass:"action-tool-item"},[i("svg-icon",{attrs:{"icon-class":"align-center-col"}})],1),i("li",{staticClass:"action-tool-item"},[i("svg-icon",{attrs:{"icon-class":"align-bottom"}})],1)])]),i("div",{staticClass:"work-area-wrapper"},[i("work-area")],1)]),i("div",{staticClass:"right-sidebar-wrapper main-sidebar"},[i("el-tabs",[i("el-tab-pane",[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"mdi mdi-widgets"}),t._v(" Setting")]),i("setting-panel")],1),i("el-tab-pane",[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"mdi mdi-layers"}),t._v(" Interactions")]),i("interaction-panel")],1)],1)],1),i("div",{staticClass:"app-footer-wrapper"},[i("div",{staticClass:"app-footer"},[i("div",{staticClass:"work-area-view-option"},[i("div",{staticClass:"center-bottom-option"},[i("div",{staticClass:"fullscreen-button",on:{click:t.toggleFullScreen}},[i("svg-icon",{attrs:{"icon-class":"fullscreen"}})],1),i("div",{staticClass:"scale-slider-button",class:{"scale-slider-button__disabled":t.editScale<=.5},on:{click:function(e){return t.zoomOut()}}},[i("svg-icon",{attrs:{"icon-class":"minus"}})],1),i("div",{staticClass:"scale-slider"},[i("el-slider",{attrs:{step:.25,min:.5,max:3},model:{value:t.editScale,callback:function(e){t.editScale=e},expression:"editScale"}})],1),i("div",{staticClass:"scale-slider-button",class:{"scale-slider-button__disabled":t.editScale>=1.5},on:{click:function(e){return t.zoomIn()}}},[i("svg-icon",{attrs:{"icon-class":"plus"}})],1),i("div",{staticClass:"scale-value"},[t._v(" "+t._s(parseInt(100*t.editScale))+" % ")])])]),i("div",{staticClass:"position"},[i("div",{staticClass:"position-item"},[t._v("X: "+t._s(t.mouseX))]),i("div",{staticClass:"position-item"},[t._v("Y: "+t._s(t.mouseY))])])])])])])])])},n=[],s=i("1da1"),o=(i("96cf"),i("d3b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comp-container",attrs:{id:"compContainer"}},[i("div",{staticClass:"comp-title"},[t._v("Basic")]),i("div",{staticClass:"comp-list"},t._l(t.compTools,(function(t){return i("drag",{key:t.id,staticClass:"comp-item",attrs:{"transfer-data":{type:t.name,config:t.config,attrs:t.attrs,params:t.params}}},[i("img",{staticClass:"comp-icon",attrs:{src:"/img/scada/"+t.name+".png",alt:t.type}})])})),1),i("div",{staticClass:"comp-title"},[t._v("Air Con")]),i("div",{staticClass:"comp-list"},t._l(t.compToolsEx,(function(t){return i("drag",{key:t.id,staticClass:"comp-item",attrs:{"transfer-data":{type:t.name,name:t.name,config:t.config,attrs:[],params:t.params}}},[i("img",{staticClass:"comp-icon comp-icon-svg",attrs:{src:t.imgUrl,alt:t.type}})])})),1),i("div",{staticClass:"comp-title"},[t._v("Burst")]),i("div",{staticClass:"comp-list"},t._l(t.compToolsEx2,(function(t){return i("drag",{key:t.id,staticClass:"comp-item",attrs:{"transfer-data":{type:t.name,name:t.name,config:t.config,attrs:[],params:t.params}}},[i("img",{staticClass:"comp-icon comp-icon-svg",attrs:{src:t.imgUrl,alt:t.type}})])})),1)])}),r=[],l=i("df76"),c={tools:[{id:0,name:"scada-label",config:{label:"文本",width:60,height:28,keepRatio:!1},imgUrl:"",attrs:[{name:"val1",label:"數據文字",type:"String",value:"9999"}],params:[{name:"text",label:"靜態文字",type:"String",value:"",hint:"將覆蓋綁定"},{name:"fill",label:"字體色",type:"Color",value:"#333"},{name:"background",label:"背景色",type:"Color",value:""},{name:"fontSize",label:"文字尺寸",type:"Int",value:"24"},{name:"fontFamily",label:"字體",type:"Enum",value:"default",opts:[{label:"默認",value:"default"},{label:"LCD字體",value:"lcdmono"}]}]},{id:1,name:"scada-guage",config:{label:"計量表",width:100,height:75,keepRatio:!0},imgUrl:"",attrs:[{name:"val1",label:"指示值",type:"Number",value:50}],params:[{name:"minVal",label:"最小值",type:"Number",value:"0"},{name:"maxVal",label:"最大值",type:"Number",value:"100"}]},{id:2,name:"scada-levelbar",config:{label:"液位計",width:60,height:100,keepRatio:!1},imgUrl:"",attrs:[{name:"val1",label:"顯示值",type:"Number",value:33}],params:[{name:"fill",label:"填充色",type:"Color",value:"#43b5ff"},{name:"background",label:"背景色",type:"Color",value:"#CCC"}]},{id:3,name:"scada-panel",config:{label:"面板",width:80,height:40,keepRatio:!1},imgUrl:"",params:[{name:"background",label:"背景色",type:"Color",value:"#CCC"},{name:"stroke",label:"邊框色",type:"Color",value:""},{name:"strokeWidth",label:"邊框寬度",type:"Int",value:"0"},{name:"cornerRadius",label:"圓角大小",type:"Int",value:"0"}]}]},h={tools:[{id:0,name:"tube-l",config:{label:"管接頭",compType:"svg",compSource:"/img/scada/svg/tube-l.svg",width:27,height:27,keepRatio:!0,rotatable:!0,colorMask:!0},imgUrl:"/img/scada/svg/ex-comp-1.svg",params:[]},{id:1,name:"tube-h",config:{label:"管橫",compType:"svg",compSource:"/img/scada/svg/tube-h.svg",width:50,height:10,keepRatio:!1,rotatable:!1,colorMask:!0},imgUrl:"/img/scada/svg/tube_h_pre.svg",params:[]},{id:2,name:"tube-v",config:{label:"管豎",compType:"svg",compSource:"/img/scada/svg/tube-v.svg",width:10,height:50,keepRatio:!1,rotatable:!1,colorMask:!0},imgUrl:"/img/scada/svg/tube_v_pre.svg",params:[]},{id:200,name:"ex1-ac0",config:{label:"空調掛機",compType:"svg",compSource:"/img/scada/svg/ex1-ac0.svg",width:138,height:32,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/ex1-ac0_pre.svg",params:[]},{id:202,name:"ex1-ac2",config:{label:"空調櫃機",compType:"svg",compSource:"/img/scada/svg/ex1-ac2.svg",width:70,height:104,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/ex1-ac2_pre.svg",params:[]},{id:201,name:"ex1-ac1",config:{label:"空調冷卻塔",compType:"svg",compSource:"/img/scada/svg/ex1-ac1.svg",width:70,height:70,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/ex1-ac1_pre.svg",params:[]},{id:203,name:"compressorA",config:{label:"壓縮機",compType:"svg",compSource:"/img/scada/svg/compressorA.svg",width:155,height:77,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/compressorA_pre.svg",params:[]},{id:204,name:"pumpA",config:{label:"增壓泵-臥式",compType:"svg",compSource:"/img/scada/svg/pumpA.svg",width:80,height:48,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/pumpA_pre.svg",params:[]},{id:206,name:"valveA",config:{label:"增壓泵-臥式",compType:"svg",compSource:"/img/scada/svg/valveA.svg",width:70,height:70,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/valveA_pre.svg",params:[]},{id:207,name:"valveA",config:{label:"增壓泵-臥式",compType:"svg",compSource:"/img/scada/svg/valveA.svg",width:70,height:70,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/valveA_pre.svg",params:[]},{id:208,name:"valveA",config:{label:"增壓泵-臥式",compType:"svg",compSource:"/img/scada/svg/valveA.svg",width:70,height:70,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/valveA_pre.svg",params:[]},{id:209,name:"valveA",config:{label:"增壓泵-臥式",compType:"svg",compSource:"/img/scada/svg/valveA.svg",width:70,height:70,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/valveA_pre.svg",params:[]},{id:210,name:"wxl_23",config:{label:"下來",compType:"svg",compSource:"/img/scada/svg/btn_switch_001d.svg",width:70,height:70,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/svg-sprite.801.svg",params:[]}]},d={tools:[{id:100,name:"ex-comp-2",config:{label:"油泵A",compType:"svg",compSource:"/img/scada/svg/ex-comp-2.svg",width:56,height:56,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/ex-comp-2_pre.svg",params:[]},{id:101,name:"ex-comp-3",config:{label:"流量計A",compType:"svg",compSource:"/img/scada/svg/ex-comp-3.svg",width:49,height:49,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/ex-comp-3_pre.svg",params:[]},{id:102,name:"rs-valveA",config:{label:"閥門A",compType:"svg",compSource:"/img/scada/svg/rs-valveA.svg",width:48,height:48,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/rs-valveA_pre.svg",params:[]},{id:103,name:"rs-fengfenhunheqi",config:{label:"風煤混合器A",compType:"svg",compSource:"/img/scada/svg/rs-fengfenhunheqi.svg",width:67,height:106,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-fengfenhunheqi_pre.svg",params:[]},{id:104,name:"rs-fengji",config:{label:"風機A",compType:"svg",compSource:"/img/scada/svg/rs-fengji.svg",width:156,height:156,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/rs-fengji_pre.svg",params:[]},{id:106,name:"rs-fire",config:{label:"火焰A",compType:"svg",compSource:"/img/scada/svg/rs-fire.svg",width:52,height:66,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-fire_pre.svg",params:[]},{id:107,name:"rs-geifenqi",config:{label:"給粉器",compType:"svg",compSource:"/img/scada/svg/rs-geifenqi.svg",width:70,height:31,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-geifenqi_pre.svg",params:[]},{id:108,name:"rs-guolu",config:{label:"鍋爐",compType:"svg",compSource:"/img/scada/svg/rs-guolu.svg",width:211,height:357,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-guolu_pre.svg",params:[]},{id:109,name:"rs-handvalve",config:{label:"手動閥",compType:"svg",compSource:"/img/scada/svg/rs-handvalve.svg",width:50,height:50,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/rs-handvalve_pre.svg",params:[]},{id:110,name:"rs-meicang",config:{label:"煤倉",compType:"svg",compSource:"/img/scada/svg/rs-meicang.svg",width:112,height:204,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-meicang_pre.svg",params:[]},{id:111,name:"rs-tiaojiefa",config:{label:"調節閥",compType:"svg",compSource:"/img/scada/svg/rs-tiaojiefa.svg",width:66,height:66,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/rs-tiaojiefa_pre.svg",params:[]},{id:112,name:"rs-tongfengguan",config:{label:"通風管",compType:"svg",compSource:"/img/scada/svg/rs-tongfengguan.svg",width:36,height:231,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-tongfengguan_pre.svg",params:[]},{id:113,name:"rs-tube",config:{label:"通風管",compType:"svg",compSource:"/img/scada/svg/rs-tube.svg",width:44,height:44,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/rs-tube_pre.svg",params:[]},{id:114,name:"rs-xichenqi",config:{label:"通風管",compType:"svg",compSource:"/img/scada/svg/rs-xichenqi.svg",width:84,height:59,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-xichenqi_pre.svg",params:[]},{id:115,name:"rs-yalibiansong",config:{label:"壓力變送器",compType:"svg",compSource:"/img/scada/svg/rs-yalibiansong.svg",width:48,height:48,keepRatio:!0,rotatable:!0,colorMask:!1},imgUrl:" /img/scada/svg/rs-yalibiansong_pre.svg",params:[]},{id:116,name:"rs-youguan",config:{label:"油灌",compType:"svg",compSource:"/img/scada/svg/rs-youguan.svg",width:48,height:75,keepRatio:!0,rotatable:!1,colorMask:!1},imgUrl:" /img/scada/svg/rs-youguan_pre.svg",params:[]}]},u={components:{Drag:l["Drag"]},props:{},data:function(){return{compTools:[],compToolsEx:[],compToolsEx2:[]}},computed:{},mounted:function(){this.compTools=c.tools,this.compToolsEx=h.tools,this.compToolsEx2=d.tools},methods:{}},m=u,p=(i("b665"),i("2877")),g=Object(p["a"])(m,o,r,!1,null,"672cd65b",null),f=g.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comp-container",attrs:{id:"cloudContainer"}},[i("div",{staticClass:"comp-list"},t._l(t.components,(function(e,a){return i("drag",{key:a,staticClass:"comp-item",attrs:{"transfer-data":{type:e.type._typeId}}},[i("div",{staticClass:"comp-item__icon"},[i("svg-icon",{attrs:{"icon-class":""+e.type._icon}})],1),i("div",{staticClass:"comp-item__text"},[t._v(t._s(e.type._text))])])})),1)])},b=[],w=i("27d4"),y={name:"CloudComp",components:{Drag:l["Drag"]},props:{},data:function(){return{components:w["a"]}},computed:{},mounted:function(){},methods:{}},_=y,C=(i("2ebd"),Object(p["a"])(_,v,b,!1,null,null,null)),x=C.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"complist_panel"}},[i("div",{staticClass:"page-list"},t._l(t.sketchComps,(function(e){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:e,list:t.components,group:"layer",comb:!0},expression:"{\n        item: comp,\n        list: components,\n        group: 'layer',\n        comb: true,\n      }"}],key:e.$id,staticClass:"page-item",class:{isActive:e.active},on:{click:function(i){return t.compSelected(e.id)}}},[t._v(" "+t._s(e.$name)+" ")])})),0)])},S=[],R={name:"LayerList",props:{components:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{sketchComps:function(){return this.$store.state.editor.pages[0].layers}},methods:{compSelected:function(t){this.$emit("compSelected",t)}}},L=R,T=(i("eacf"),Object(p["a"])(L,k,S,!1,null,null,null)),M=T.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.compAttrs,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"ctrl-item"},[i("label",{staticClass:"bind-label"},[t._v(t._s(e.label))]),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-cascader",{attrs:{placeholder:"請選擇數據點",options:t.dataBinds,separator:".",clearable:!0,props:t.cascaderProps},on:{change:t.compValInputChanged},model:{value:e.bind,callback:function(i){t.$set(e,"bind",i)},expression:"attr.bind"}})],1)],1),i("el-row",[i("el-col",{attrs:{span:12}},[i("el-input",{staticClass:"attr-input",on:{change:t.compValInputChanged},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"attr.value"}})],1),i("el-col",{attrs:{span:12}},[i("label",{staticClass:"label-preview"},[t._v("[ 預覽值 ]")])])],1)],1)])})),0)},E=[],$={props:{compAttrs:{type:Object,default:function(){}},dataBinds:{type:Object,default:function(){}}},data:function(){return{cascaderProps:{value:"label",children:"cities"}}},computed:{},mounted:function(){},methods:{compValInputChanged:function(){this.$emit("compValInputChanged")}}},O=$,I=(i("5620"),Object(p["a"])(O,A,E,!1,null,null,null)),N=I.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.compAttrs,(function(e,a){return i("div",{key:a},[i("div",{staticClass:"ctrl-item"},[i("el-row",[i("el-col",{attrs:{span:6}},[i("label",[t._v(t._s(e.label))])]),i("el-col",{attrs:{span:10}},[i(t.getCtrlTyp(e.type),{tag:"component",attrs:{placeholder:e.hint},on:{change:t.compValInputChanged},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"ctrl.value"}},["Enum"===e.type?i("div",t._l(e.opts,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()])],1)],1)],1)])})),0)},z=[],D={props:{compAttrs:{type:Object,default:function(){}}},data:function(){return{}},computed:{},mounted:function(){},methods:{getCtrlTyp:function(t){switch(t){case"Color":return"el-color-picker";case"Number":return"el-input";case"Int":return"el-input-number";case"Enum":return"el-select";default:return"el-input"}},compValInputChanged:function(){var t=this;this.$nextTick((function(){t.$emit("compValInputChanged")}))}}},W=D,B=Object(p["a"])(W,P,z,!1,null,null,null),j=B.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"workArea",staticClass:"work-area",attrs:{id:"workArea"}},[t.panMove.isPanMode?i("div",{staticClass:"pan-layer"}):t._e(),i("sketch-ruler",{ref:"ruler",attrs:{thick:t.ruler.thick,scale:t.editScale,width:t.ruler.width,height:t.ruler.height,"start-x":t.ruler.startX,"start-y":t.ruler.startY,shadow:t.shadow,"hor-line-arr":t.rulerRefLine.h,"ver-line-arr":t.rulerRefLine.v,"corner-active":!0},on:{handleLine:t.handleLine,onCornerClick:t.handleCornerClick}}),i("div",{ref:"screensRef",staticClass:"screens",attrs:{id:"screens"},on:{wheel:t.handleWheel,scroll:t.handleScroll}},[i("SelectionArea",{staticClass:"selection-area-container",attrs:{options:{class:"selection-area",disableTouch:!1,singleClick:!0,boundaries:[".screens"],selectables:[".screens .sketch-comp"]},"on-move":t.onMove,"on-start":t.onStart,"on-before-start":t.onBeforeStart}},[i("div",{ref:"canvasRef",staticClass:"canvas-container"},[i("drop",{staticClass:"drop",on:{drop:t.handleSketchCompDrop}},[i("div",{ref:"canvas",staticClass:"canvas",style:t.canvasStyle,attrs:{id:"canvas"}},[i("div",{staticClass:"canvas-inner"},[t._l(t.sketchComps,(function(e,a){return i("sketch-comps",{key:a,staticClass:"sketch-comp",class:{"sketch-comp__selected":e.edit.selected},attrs:{comp:e.$id,w:e.frame.width,h:e.frame.height,x:e.frame.x,y:e.frame.y,parent:!0,"is-conflict-check":!1,snap:!0,"snap-tolerance":10,"canvas-ref-line":t.rulerRefLine,"scale-ratio":t.editScale,"class-name-handle":"sketch-comp__handle"},on:{dragstop:function(i,a){t.onDraged(i,a,e)},resizestop:function(i,a,n,s){t.onResized(i,a,n,s,e)},refLineParams:t.getRefLineParams}},["group"==e.$class?void 0:[i(e.type._template,{tag:"component",attrs:{mode:"editor",config:e}})]],2)})),t._l(t.compRefLineVertical,(function(t){return i("span",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"item.display"}],key:t.id,staticClass:"ref-line ref-line--horizontal",style:{left:t.position,top:t.origin,height:t.lineLength}})})),t._l(t.compRefLineHorizontal,(function(t){return i("span",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"item.display"}],key:t.id,staticClass:"ref-line ref-line--horizontal",style:{top:t.position,left:t.origin,width:t.lineLength}})})),t.widgetSelected.length>1?i("sketch-comps",{staticClass:"sketch-comp",attrs:{w:t.selectedFrame.width,h:t.selectedFrame.height,x:t.selectedFrame.x,y:t.selectedFrame.y,parent:!0,"is-conflict-check":!1,snap:!0,"snap-tolerance":10,"canvas-ref-line":t.rulerRefLine,"scale-ratio":t.editScale,"class-name-handle":"sketch-comp__handle"},on:{refLineParams:t.getRefLineParams,dragging:function(e,i){t.onGroupDrag(e,i)}}}):t._e()],2)])])],1)])],1),i("div",{staticClass:"cross-line cross-line--horizontal",style:{top:t.crossLine.y+"px"}}),i("div",{staticClass:"cross-line cross-line--vertical",style:{left:t.crossLine.x+"px"}})],1)},U=[],F=(i("159b"),i("d81d"),i("b680"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"style-ruler sketch-ruler",attrs:{id:"sketchRuler"}},[i("RulerWrapper",{attrs:{vertical:!1,width:t.width,height:t.thick,"is-show-refer-line":t.isShowReferLine,thick:t.thick,start:t.startX,lines:t.horLineArr,"select-start":t.shadow.x,"select-length":t.shadow.width,scale:t.scale,palette:t.palette,"canvas-configs":t.canvasConfigs},on:{onLineChange:t.handleLineChange}}),i("RulerWrapper",{attrs:{vertical:!0,width:t.thick,height:t.height,"is-show-refer-line":t.isShowReferLine,thick:t.thick,start:t.startY,lines:t.verLineArr,"select-start":t.shadow.y,"select-length":t.shadow.height,scale:t.scale,palette:t.palette,"canvas-configs":t.canvasConfigs},on:{onLineChange:t.handleLineChange}}),i("a",{staticClass:"corner",class:t.cornerActiveClass,style:t.cornerStyle,on:{click:t.onCornerClick}})],1)}),Y=[],X=i("2909"),V=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.rwClassName,style:t.rwStyle},[i("CanvasRuler",{attrs:{vertical:t.vertical,scale:t.scale,width:t.width,height:t.height,start:t.start,"select-start":t.selectStart,"select-length":t.selectLength,"canvas-configs":t.canvasConfigs},on:{onAddLine:t.handleNewLine,onIndicatorShow:t.handleIndicatorShow,onIndicatorMove:t.handleIndicatorMove,onIndicatorHide:t.handleIndicatorHide}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowReferLine,expression:"isShowReferLine"}],staticClass:"lines"},t._l(t.lines,(function(e,a){return i("LineRuler",{key:e+a,attrs:{index:a,value:e>>0,scale:t.scale,start:t.start,thick:t.thick,palette:t.palette,vertical:t.vertical,"is-show-refer-line":t.isShowReferLine},on:{onRemove:t.handleLineRemove,onMouseDown:t.handleLineDown,onRelease:t.handleLineRelease}})})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showIndicator,expression:"showIndicator"}],staticClass:"indicator",style:t.indicatorStyle},[i("div",{staticClass:"value"},[t._v(t._s(t.value))])])],1)}),q=[],G=i("ade3"),K=(i("a434"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLine,expression:"showLine"}],staticClass:"line",style:[t.offset,t.borderCursor],on:{mousedown:t.handleDown}},[i("div",{staticClass:"action",style:t.actionStyle},[i("span",{staticClass:"del",on:{click:t.handleRemove}},[t._v("×")]),i("span",{staticClass:"value"},[t._v(t._s(t.startValue))])])])}),J=[],Q=i("5530"),Z={name:"LineRuler",props:{index:{type:Number,default:0},start:{type:Number,default:0},vertical:{type:Boolean,default:!1},scale:{type:Number,default:0},value:{type:Number,default:0},palette:{type:Object,default:function(){}},isShowReferLine:{type:Boolean,default:!1},thick:{type:Number,default:0}},data:function(){return{startValue:0,showLine:!0}},computed:{offset:function(){var t=(this.startValue-this.start)*this.scale,e=t+"px",i=this.vertical?{top:e}:{left:e};return i},borderCursor:function(){var t="1px solid ".concat(this.palette.lineColor),e=this.vertical?{borderTop:t}:{borderLeft:t},i=this.isShowReferLine?this.vertical?"ns-resize":"ew-resize":"none";return Object(Q["a"])({cursor:i},e)},actionStyle:function(){var t=this.vertical?{left:this.thick+"px"}:{top:this.thick+"px"};return t}},mounted:function(){this.initStartValue()},methods:{handleDown:function(t){var e=this,i=this.vertical?t.clientY:t.clientX,a=this.startValue;this.$emit("onMouseDown");var n=function(t){var n=e.vertical?t.clientY:t.clientX,s=Math.round(a+(n-i)/e.scale);e.startValue=s},s=function t(){e.$emit("onRelease",e.startValue,e.index),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)},handleRemove:function(){this.$emit("onRemove",this.index)},initStartValue:function(){this.startValue=this.value}}},tt=Z,et=(i("19a1"),Object(p["a"])(tt,K,J,!1,null,"4abe47ae",null)),it=et.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{ref:"$canvas",staticClass:"ruler",on:{click:t.handleClick,mouseenter:t.handleEnter,mousemove:t.handleMove,mouseleave:t.handleLeave}})},nt=[],st=function(t){return t<=.25?40:t<=.5?20:t<=1?10:t<=2?5:t<=4?2:1},ot=1.2,rt=function(t,e,i,a){var n=a.scale,s=a.width,o=a.height,r=a.canvasConfigs,l=r.bgColor,c=r.fontColor,h=r.shadowColor,d=r.ratio,u=r.longfgColor,m=r.shortfgColor;if(t.clearRect(0,0,s,o),t.fillStyle=l,t.fillRect(0,0,s,o),i){var p=(i.x-e)*n,g=i.width*n;t.fillStyle=h,t.fillRect(p,0,g,3*o/8)}var f=st(n),v=f*n,b=10*f,w=b*n,y=Math.floor(e/f)*f,_=Math.floor(e/b)*b,C=(y-e)/f*v,x=(_-e)/b*w,k=e+Math.ceil(s/n);t.beginPath(),t.fillStyle=c,t.strokeStyle=u;for(var S=_,R=0;S<k;S+=b,R++){var L=x+R*w+.5;t.moveTo(L,0),t.save(),t.translate(L,.4*o),t.scale(ot/d,ot/d),t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.fillText(S,4*d,7*d),t.restore(),t.lineTo(L,o)}t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle=m;for(var T=y,M=0;T<k;T+=f,M++){var A=C+M*v+.5;t.moveTo(A,2*o/3),T%b!==0&&t.lineTo(A,o)}t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle=u,t.moveTo(0,o),t.lineTo(s,o),t.stroke(),t.closePath()},lt=function(t,e,i,a){var n=a.scale,s=a.width,o=a.height,r=a.canvasConfigs,l=r.bgColor,c=r.fontColor,h=r.shadowColor,d=r.ratio,u=r.longfgColor,m=r.shortfgColor;if(t.clearRect(0,0,s,o),t.fillStyle=l,t.fillRect(0,0,s,o),i){var p=(i.y-e)*n,g=i.height*n;t.fillStyle=h,t.fillRect(0,p,3*s/8,g)}var f=st(n),v=f*n,b=10*f,w=b*n,y=Math.floor(e/f)*f,_=Math.floor(e/b)*b,C=(y-e)/f*v,x=(_-e)/b*w,k=e+Math.ceil(o/n);t.beginPath(),t.fillStyle=c,t.strokeStyle=u;for(var S=_,R=0;S<k;S+=b,R++){var L=x+R*w+.5;t.moveTo(0,L),t.save(),t.translate(.4*s,L),t.rotate(-Math.PI/2),t.scale(ot/d,ot/d),t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.fillText(S,4*d,7*d),t.restore(),t.lineTo(s,L)}t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle=m;for(var T=y,M=0;T<k;T+=f,M++){var A=C+M*v+.5;t.moveTo(2*s/3,A),T%b!==0&&t.lineTo(s,A)}t.stroke(),t.closePath(),t.beginPath(),t.strokeStyle=u,t.moveTo(s,0),t.lineTo(s,o),t.stroke(),t.closePath()},ct=function(t,e,i){return Math.round(e+t/i)},ht={name:"CanvasRuler",props:{vertical:{type:Boolean,default:!1},start:{type:Number,default:0},scale:{type:Number,default:0},width:{type:Number,default:0},height:{type:Number,default:0},canvasConfigs:{type:Object,default:function(){}},selectStart:{type:Number,default:0},selectLength:{type:Number,default:0}},data:function(){return{$canvas:{},canvasContext:{},scopedRatio:window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth}},watch:{start:function(){this.updateCanvasContext(),this.drawRuler()},width:function(t){this.updateCanvasContext(),this.drawRuler()},height:function(t){this.updateCanvasContext(),this.drawRuler()},scopedRatio:function(t){this.updateCanvasContext(),this.drawRuler()}},beforeDestroy:function(){window.removeEventListener("resize",this.zoom)},mounted:function(){this.initCanvasRef(),this.updateCanvasContext(),this.drawRuler(),window.addEventListener("resize",this.zoom)},methods:{zoom:function(){var t=window.devicePixelRatio||window.screen.availWidth/document.documentElement.clientWidth;return t!==this.scopedRatio&&(this.scopedRatio=t,!0)},initCanvasRef:function(){this.$canvas=this.$refs.$canvas,this.canvasContext=this.$canvas&&this.$canvas.getContext("2d")},updateCanvasContext:function(){var t=this.canvasConfigs.ratio;this.$canvas.width=this.width,this.$canvas.height=this.height,this.$canvas.style.width=this.width,this.$canvas.style.height=this.height,this.canvasContext.font="".concat(10*t,'px -apple-system,\n                "Helvetica Neue", ".SFNSText-Regular",\n                "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB",\n                "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif')},drawRuler:function(){var t={scale:this.scale,width:this.width,height:this.height,canvasConfigs:this.canvasConfigs};this.vertical?lt(this.canvasContext,this.start,{y:this.selectStart,height:this.selectLength},t):rt(this.canvasContext,this.start,{x:this.selectStart,width:this.selectLength},t)},handleClick:function(t){var e=this.vertical?t.offsetY:t.offsetX,i=ct(e,this.start,this.scale);this.$emit("onAddLine",i)},handleEnter:function(t){var e=this.vertical?t.offsetY:t.offsetX,i=ct(e,this.start,this.scale);this.$emit("onIndicatorShow",i)},handleMove:function(t){var e=this.vertical?t.offsetY:t.offsetX,i=ct(e,this.start,this.scale);this.$emit("onIndicatorMove",i)},handleLeave:function(){this.$emit("onIndicatorHide")}}},dt=ht,ut=Object(p["a"])(dt,at,nt,!1,null,null,null),mt=ut.exports,pt={name:"RulerWrapper",components:{CanvasRuler:mt,LineRuler:it},props:{vertical:{type:Boolean,default:!1},scale:{type:Number,default:0},width:{type:Number,default:0},thick:{type:Number,default:0},height:{type:Number,default:0},start:{type:Number,default:0},lines:{type:Array,default:function(){return[]}},selectStart:{type:Number,default:0},selectLength:{type:Number,default:0},canvasConfigs:{type:Object,default:function(){}},palette:{type:Object,default:function(){}},isShowReferLine:{type:Boolean,default:!1},onShowRightMenu:{type:Function,default:function(){return null}},handleShowReferLine:{type:Function,default:function(){return function(){return null}}}},data:function(){return{isDraggingLine:!1,showIndicator:!1,value:0}},computed:{rwClassName:function(){var t=this.vertical?"v-container":"h-container";return t},rwStyle:function(){var t={width:"calc(100% - ".concat(this.thick,"px)"),height:"".concat(this.thick+1,"px"),left:"".concat(this.thick)+"px",cursor:"col-resize"},e={width:"".concat(this.thick+1,"px"),height:"calc(100% - ".concat(this.thick,"px)"),top:"".concat(this.thick)+"px",cursor:"row-resize"};return this.vertical?e:t},lineStyle:function(){return{borderTop:"1px solid ".concat(this.palette.lineColor),cursor:this.isShowReferLine?"ns-resize":"none"}},indicatorStyle:function(){var t,e=(this.value-this.start)*this.scale,i="top",a="borderLeft";return i=this.vertical?"top":"left",a=this.vertical?"borderBottom":"borderLeft",t={},Object(G["a"])(t,i,e+"px"),Object(G["a"])(t,a,"1px solid ".concat(this.palette.lineColor)),t}},methods:{handleNewLine:function(t){this.lines.push(t),this.$emit("onLineChange",this.lines,this.vertical)},handleIndicatorShow:function(t){this.isDraggingLine||(this.showIndicator=!0,this.value=t)},handleIndicatorMove:function(t){this.showIndicator&&(this.value=t)},handleIndicatorHide:function(){this.showIndicator=!1},handleLineDown:function(){this.isDraggingLine=!0},handleLineRelease:function(t,e){this.isDraggingLine=!1;var i=t-this.start,a=(this.vertical?this.height:this.width)/this.scale;i<0||i>a?this.handleLineRemove(e):(this.lines[e]=t,this.$emit("onLineChange",this.lines,this.vertical))},handleLineRemove:function(t){this.lines.splice(t,1),this.$emit("onLineChange",this.lines,this.vertical)}}},gt=pt,ft=(i("6031"),Object(p["a"])(gt,V,q,!1,null,"644e5f6e",null)),vt=ft.exports,bt={name:"SketchRuler",components:{RulerWrapper:vt},props:{scale:{type:Number,default:1},ratio:{type:Number,default:window.devicePixelRatio||1},thick:{type:Number,default:20},width:{type:Number,default:0},height:{type:Number,default:0},startX:{type:Number,default:0},startY:{type:Number,default:0},shadow:{type:Object,default:function(){return{x:200,y:100,width:200,height:400}}},horLineArr:{type:Array,default:function(){return[100,200]}},verLineArr:{type:Array,default:function(){return[100,200]}},cornerActive:{type:Boolean,default:!1},isOpenMenuFeature:{type:Boolean,default:!1},handleShowRuler:{type:Function,default:function(){return function(){}}},isShowReferLine:{type:Boolean,default:!0},handleShowReferLine:{type:Function,default:function(){return function(){return null}}},palette:{type:Object,default:function(){return{bgColor:"#0B0D0F",longfgColor:"#35373B",shortfgColor:"#35373B",fontColor:"#666",shadowColor:"#0B0D0F",lineColor:"#617b34",borderColor:"#2D3132",cornerActiveColor:"rgb(235, 86, 72, 0.6)",menu:{bgColor:"#fff",dividerColor:"#DBDBDB",listItem:{textColor:"#415058",hoverTextColor:"#298DF8",disabledTextColor:"rgba(65, 80, 88, 0.4)",bgColor:"#fff",hoverBgColor:"#F2F2F2"}}}}}},data:function(){return{vertical:!0}},computed:{cornerActiveClass:function(){return this.cornerActive?" active":""},cornerStyle:function(){return{backgroundColor:this.palette.bgColor,width:this.thick+"px",height:this.thick+"px",borderRight:"1px solid ".concat(this.palette.borderColor),borderBottom:"1px solid ".concat(this.palette.borderColor)}},canvasConfigs:function(){var t=this.palette,e=t.bgColor,i=t.longfgColor,a=t.shortfgColor,n=t.fontColor,s=t.shadowColor,o=t.lineColor,r=t.borderColor,l=t.cornerActiveColor;return{ratio:this.ratio,bgColor:e,longfgColor:i,shortfgColor:a,fontColor:n,shadowColor:s,lineColor:o,borderColor:r,cornerActiveColor:l}}},methods:{onCornerClick:function(t){this.$emit("onCornerClick",t)},handleLineChange:function(t,e){var i=e?{h:this.horLineArr,v:Object(X["a"])(t)}:{h:Object(X["a"])(t),v:this.verLineArr};this.$emit("handleLine",i)}}},wt=bt,yt=(i("671e"),Object(p["a"])(wt,F,Y,!1,null,null,null)),_t=yt.exports,Ct=function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{class:[(t={},t[e.classNameActive]=e.enabled,t[e.classNameDragging]=e.dragging,t[e.classNameResizing]=e.resizing,t[e.classNameDraggable]=e.draggable,t[e.classNameResizable]=e.resizable,t),e.className],style:e.style,on:{mousedown:e.elementMouseDown,touchstart:e.elementTouchDown}},[e._l(e.actualHandles,(function(t){return a("div",{key:t,class:[e.classNameHandle,e.classNameHandle+"-"+t],style:e.handleStyle(t),on:{mousedown:function(i){return i.stopPropagation(),i.preventDefault(),e.handleDown(t,i)},touchstart:function(i){return i.stopPropagation(),i.preventDefault(),e.handleTouchDown(t,i)}}},[e._t(t)],2)})),e._t("default")],2)},xt=[],kt=i("b85c"),St=i("3835");i("6062"),i("3ca3"),i("ddb0"),i("4de4"),i("caad"),i("99af"),i("2532"),i("4d63"),i("ac1f"),i("25f0"),i("cb29"),i("1276"),i("5319"),i("7db0");function Rt(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function Lt(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=Math.round(e/a/t[0])*t[0],s=Math.round(i/a/t[1])*t[1];return[n,s]}function Tt(t,e,i){return t-e-i}function Mt(t,e,i){return t-e-i}function At(t,e,i){return null!==e&&t<e?e:null!==i&&i<t?i:t}function Et(t,e,i){var a=t,n=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((function(t){return Rt(a[t])}));if(!Rt(a[n]))return!1;do{if(a[n](e))return!0;if(a===i)return!1;a=a.parentNode}while(a);return!1}function $t(t){var e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function Ot(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function It(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}var Nt={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},Pt={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},zt={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},Dt=Nt.mouse,Wt={replace:!0,name:"SketchDraggableResizable",props:{className:{type:String,default:"sketch-comp-item"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:function(t){return"number"===typeof t?t>0:"auto"===t}},h:{type:[Number,String],default:200,validator:function(t){return"number"===typeof t?t>0:"auto"===t}},minWidth:{type:Number,default:0,validator:function(t){return t>=0}},minHeight:{type:Number,default:0,validator:function(t){return t>=0}},maxWidth:{type:Number,default:null,validator:function(t){return t>=0}},maxHeight:{type:Number,default:null,validator:function(t){return t>=0}},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:function(t){return"string"===typeof t?"auto"===t:t>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]},validator:function(t){var e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter((function(t){return e.has(t)}))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:function(t){return["x","y","both"].includes(t)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:function(){return!0}},onDrag:{type:Function,default:function(){return!0}},onResizeStart:{type:Function,default:function(){return!0}},onResize:{type:Function,default:function(){return!0}},isConflictCheck:{type:Boolean,default:!1},snap:{type:Boolean,default:!1},snapTolerance:{type:Number,default:5,validator:function(t){return"number"===typeof t}},scaleRatio:{type:Number,default:1,validator:function(t){return"number"===typeof t}},handleInfo:{type:Object,default:function(){return{size:8,offset:-5,switch:!0}}},canvasRefLine:{type:Object,default:function(){return{h:[],v:[]}}}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,zIndex:this.z}},computed:{handleStyle:function(){var t=this;return function(e){if(!t.handleInfo.switch)return{display:t.enabled?"block":"none"};var i=(t.handleInfo.size/t.scaleRatio).toFixed(2),a=(t.handleInfo.offset/t.scaleRatio).toFixed(2),n=(i/2).toFixed(2),s={tl:{top:"".concat(a,"px"),left:"".concat(a,"px")},tm:{top:"".concat(a,"px"),left:"calc(50% - ".concat(n,"px)")},tr:{top:"".concat(a,"px"),right:"".concat(a,"px")},mr:{top:"calc(50% - ".concat(n,"px)"),right:"".concat(a,"px")},br:{bottom:"".concat(a,"px"),right:"".concat(a,"px")},bm:{bottom:"".concat(a,"px"),right:"calc(50% - ".concat(n,"px)")},bl:{bottom:"".concat(a,"px"),left:"".concat(a,"px")},ml:{top:"calc(50% - ".concat(n,"px)"),left:"".concat(a,"px")}},o={width:"".concat(i,"px"),height:"".concat(i,"px"),top:s[e].top,left:s[e].left,right:s[e].right,bottom:s[e].bottom};return o.display=t.enabled?"block":"none",o}},style:function(){return Object(Q["a"])({transform:"translate(".concat(this.left,"px, ").concat(this.top,"px)"),width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex},this.dragging&&this.disableUserSelect?Pt:zt)},actualHandles:function(){return this.resizable?this.handles:[]},computedWidth:function(){return"auto"!==this.w||this.widthTouched?this.width+"px":"auto"},computedHeight:function(){return"auto"!==this.h||this.heightTouched?this.height+"px":"auto"},resizingOnX:function(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY:function(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle:function(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active:function(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)},x:function(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y:function(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},lockAspectRatio:function(t){this.aspectFactor=t?this.width/this.height:void 0},minWidth:function(t){t>0&&t<=this.width&&(this.minW=t)},minHeight:function(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth:function(t){this.maxW=t},maxHeight:function(t){this.maxH=t},w:function(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h:function(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Sketch-comp-item warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Sketch-comp-item warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=function(){return!1});var t=this.getParentSize(),e=Object(St["a"])(t,2),i=e[0],a=e[1];this.parentWidth=i,this.parentHeight=a;var n=$t(this.$el),s=Object(St["a"])(n,2),o=s[0],r=s[1];this.aspectFactor=("auto"!==this.w?this.w:o)/("auto"!==this.h?this.h:r),this.width="auto"!==this.w?this.w:o,this.height="auto"!==this.h?this.h:r,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.settingAttribute(),Ot(document.documentElement,"mousedown",this.deselect),Ot(document.documentElement,"touchend touchcancel",this.deselect),Ot(window,"resize",this.checkParentSize)},beforeDestroy:function(){It(document.documentElement,"mousedown",this.deselect),It(document.documentElement,"touchstart",this.handleUp),It(document.documentElement,"mousemove",this.move),It(document.documentElement,"touchmove",this.move),It(document.documentElement,"mouseup",this.handleUp),It(document.documentElement,"touchend touchcancel",this.deselect),It(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState:function(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize:function(){if(this.parent){var t=this.getParentSize(),e=Object(St["a"])(t,2),i=e[0],a=e[1];this.right=i-this.width-this.left,this.bottom=a-this.height-this.top,this.parentWidth=i,this.parentHeight=a}},getParentSize:function(){if(!0===this.parent){var t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}if("string"===typeof this.parent){var e=document.querySelector(this.parent);if(!(e instanceof HTMLElement))throw new Error("The selector ".concat(this.parent," does not match any element"));return[e.offsetWidth,e.offsetHeight]}return[null,null]},elementTouchDown:function(t){Dt=Nt.touch,this.elementDown(t)},elementMouseDown:function(t){Dt=Nt.mouse,this.elementDown(t)},elementDown:function(t){if(!(t instanceof MouseEvent&&1!==t.which)){var e=t.target||t.srcElement;if(this.$el.contains(e)){if(!1===this.onDragStart(t))return;if(this.dragHandle&&!Et(e,this.dragHandle,this.$el)||this.dragCancel&&Et(e,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.w=this.width,this.mouseClickPosition.h=this.height,this.parent&&(this.bounds=this.calcDragLimits()),Ot(document.documentElement,Dt.move,this.move),Ot(document.documentElement,Dt.stop,this.handleUp)}}},calcDragLimits:function(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect:function(t){var e=t.target||t.srcElement,i=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||i.test(e.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),It(document.documentElement,Dt.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown:function(t,e){Dt=Nt.touch,this.handleDown(t,e)},handleDown:function(t,e){e instanceof MouseEvent&&1!==e.which||!1!==this.onResizeStart(t,e)&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.w=this.width,this.mouseClickPosition.h=this.height,this.bounds=this.calcResizeLimits(),Ot(document.documentElement,Dt.move,this.handleResize),Ot(document.documentElement,Dt.stop,this.handleUp))},calcResizeLimits:function(){var t=this.minW,e=this.minH,i=this.maxW,a=this.maxH,n=this.aspectFactor,s=Object(St["a"])(this.grid,2),o=s[0],r=s[1],l=this.width,c=this.height,h=this.left,d=this.top,u=this.right,m=this.bottom;this.lockAspectRatio&&(t/e>n?e=t/n:t=n*e,i&&a?(i=Math.min(i,n*a),a=Math.min(a,i/n)):i?a=i/n:a&&(i=n*a)),i-=i%o,a-=a%r;var p={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(p.minLeft=h%o,p.maxLeft=h+Math.floor((l-t)/o)*o,p.minTop=d%r,p.maxTop=d+Math.floor((c-e)/r)*r,p.minRight=u%o,p.maxRight=u+Math.floor((l-t)/o)*o,p.minBottom=m%r,p.maxBottom=m+Math.floor((c-e)/r)*r,i&&(p.minLeft=Math.max(p.minLeft,this.parentWidth-u-i),p.minRight=Math.max(p.minRight,this.parentWidth-h-i)),a&&(p.minTop=Math.max(p.minTop,this.parentHeight-m-a),p.minBottom=Math.max(p.minBottom,this.parentHeight-d-a)),this.lockAspectRatio&&(p.minLeft=Math.max(p.minLeft,h-d*n),p.minTop=Math.max(p.minTop,d-h/n),p.minRight=Math.max(p.minRight,u-m*n),p.minBottom=Math.max(p.minBottom,m-u/n))):(p.minLeft=null,p.maxLeft=h+Math.floor((l-t)/o)*o,p.minTop=null,p.maxTop=d+Math.floor((c-e)/r)*r,p.minRight=null,p.maxRight=u+Math.floor((l-t)/o)*o,p.minBottom=null,p.maxBottom=m+Math.floor((c-e)/r)*r,i&&(p.minLeft=-(u+i),p.minRight=-(h+i)),a&&(p.minTop=-(m+a),p.minBottom=-(d+a)),this.lockAspectRatio&&i&&a&&(p.minLeft=Math.min(p.minLeft,-(u+i)),p.minTop=Math.min(p.minTop,-(a+m)),p.minRight=Math.min(p.minRight,-h-i),p.minBottom=Math.min(p.minBottom,-d-a))),p},move:function(t){this.resizing?this.handleResize(t):this.dragging&&this.handleDrag(t)},handleDrag:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,s,o,r,l,c,h,d,u,m,p,g,f;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=e.axis,n=e.grid,s=e.bounds,o=e.mouseClickPosition,r=a&&"y"!==a?o.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,l=a&&"x"!==a?o.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,c=Lt(n,r,l,e.scaleRatio),h=Object(St["a"])(c,2),d=h[0],u=h[1],m=At(o.left-d,s.minLeft,s.maxLeft),p=At(o.top-u,s.minTop,s.maxTop),!1!==e.onDrag(m,p)){i.next=11;break}return i.abrupt("return");case 11:return g=At(o.right+d,s.minRight,s.maxRight),f=At(o.bottom+u,s.minBottom,s.maxBottom),e.left=m,e.top=p,e.right=g,e.bottom=f,i.next=19,e.snapCheck();case 19:e.$emit("dragging",e.left,e.top);case 20:case"end":return i.stop()}}),i)})))()},moveHorizontally:function(t){var e=Lt(this.grid,t,this.top,this.scale),i=Object(St["a"])(e,2),a=i[0],n=(i[1],At(a,this.bounds.minLeft,this.bounds.maxLeft));this.left=n,this.right=this.parentWidth-this.width-n},moveVertically:function(t){var e=Lt(this.grid,this.left,t,this.scale),i=Object(St["a"])(e,2),a=(i[0],i[1]),n=At(a,this.bounds.minTop,this.bounds.maxTop);this.top=n,this.bottom=this.parentHeight-this.height-n},handleResize:function(t){var e=this.left,i=this.top,a=this.right,n=this.bottom,s=this.mouseClickPosition,o=this.aspectFactor,r=s.mouseX-(t.touches?t.touches[0].pageX:t.pageX),l=s.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&r&&(this.widthTouched=!0),!this.heightTouched&&l&&(this.heightTouched=!0);var c=Lt(this.grid,r,l,this.scaleRatio),h=Object(St["a"])(c,2),d=h[0],u=h[1];this.handle.includes("b")?(n=At(s.bottom+u,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(a=this.right-(this.bottom-n)*o)):this.handle.includes("t")&&(i=At(s.top-u,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-i)*o)),this.handle.includes("r")?(a=At(s.right+d,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(n=this.bottom-(this.right-a)/o)):this.handle.includes("l")&&(e=At(s.left-d,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(i=this.top-(this.left-e)/o));var m=Tt(this.parentWidth,e,a),p=Mt(this.parentHeight,i,n);!1!==this.onResize(this.handle,e,i,m,p)&&(this.left=e,this.top=i,this.right=a,this.bottom=n,this.width=m,this.height=p,this.$emit("resizing",this.left,this.top,this.width,this.height))},changeWidth:function(t){var e=Lt(this.grid,t,0,this.scale),i=Object(St["a"])(e,2),a=i[0],n=(i[1],At(this.parentWidth-a-this.left,this.bounds.minRight,this.bounds.maxRight)),s=this.bottom;this.lockAspectRatio&&(s=this.bottom-(this.right-n)/this.aspectFactor);var o=Tt(this.parentWidth,this.left,n),r=Mt(this.parentHeight,this.top,s);this.right=n,this.bottom=s,this.width=o,this.height=r},changeHeight:function(t){var e=Lt(this.grid,0,t,this.scale),i=Object(St["a"])(e,2),a=(i[0],i[1]),n=At(this.parentHeight-a-this.top,this.bounds.minBottom,this.bounds.maxBottom),s=this.right;this.lockAspectRatio&&(s=this.right-(this.bottom-n)*this.aspectFactor);var o=Tt(this.parentWidth,this.left,s),r=Mt(this.parentHeight,this.top,n);this.right=s,this.bottom=n,this.width=o,this.height=r},handleUp:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in e.handle=null,i=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),a={vLine:[],hLine:[]},a)a[n]=JSON.parse(JSON.stringify(i));if(!e.resizing){t.next=10;break}return e.resizing=!1,t.next=8,e.conflictCheck();case 8:e.$emit("refLineParams",a),e.$emit("resizestop",e.left,e.top,e.width,e.height);case 10:if(!e.dragging){t.next=16;break}return e.dragging=!1,t.next=14,e.conflictCheck();case 14:e.$emit("refLineParams",a),e.$emit("dragstop",e.left,e.top);case 16:e.resetBoundsAndMouseState(),It(document.documentElement,Dt.move,e.handleResize);case 18:case"end":return t.stop()}}),t)})))()},settingAttribute:function(){this.$el.setAttribute("data-is-check","".concat(this.isConflictCheck)),this.$el.setAttribute("data-is-snap","".concat(this.snap))},conflictCheck:function(){var t=this.top,e=this.left,i=this.width,a=this.height;if(this.isConflictCheck){var n,s=this.$el.parentNode.childNodes,o=Object(kt["a"])(s);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(void 0!==r.className&&!r.className.includes(this.classNameActive)&&null!==r.getAttribute("data-is-check")&&"false"!==r.getAttribute("data-is-check")){var l=r.offsetWidth,c=r.offsetHeight,h=this.formatTransformVal(r.style.transform),d=Object(St["a"])(h,2),u=d[0],m=d[1],p=t>=m&&e>=u&&m+c>t&&u+l>e||t<=m&&e<u&&t+a>m&&e+i>u,g=e<=u&&t>=m&&e+i>u&&t<m+c||t<m&&e>u&&t+a>m&&e<u+l,f=t<=m&&e>=u&&t+a>m&&e<u+l||t>=m&&e<=u&&t<m+c&&e>u+l,v=t<=m&&e>=u&&t+a>m&&e<u+l||t>=m&&e<=u&&t<m+c&&e>u+l,b=e>=u&&t>=m&&e<u+l&&t<m+c||t>m&&e<=u&&e+i>u&&t<m+c,w=t<=m&&e>=u&&t+a>m&&e<u+l||t>=m&&e<=u&&t<m+c&&e+i>u;(p||g||f||v||b||w)&&(this.top=this.mouseClickPosition.top,this.left=this.mouseClickPosition.left,this.right=this.mouseClickPosition.right,this.bottom=this.mouseClickPosition.bottom,this.width=this.mouseClickPosition.w,this.height=this.mouseClickPosition.h)}}}catch(y){o.e(y)}finally{o.f()}}},snapCheck:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a,n,s,o,r,l,c,h,d,u,m,p,g,f,v,b,w,y,_,C,x,k,S,R,L,T,M,A,E,$,O,I,N,P,z,D,W,B,j,H,U,F,Y,X,V,q,G,K,J,Q,Z,tt;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.width,a=t.height,!t.snap){e.next=28;break}for(h in n=t.left,s=t.left+i,o=t.top,r=t.top+a,l=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),c={vLine:[],hLine:[]},c)c[h]=JSON.parse(JSON.stringify(l));return d=t.$el.parentNode.childNodes,u={value:{x:[[],[],[]],y:[[],[],[]]},display:[],position:[]},e.next=14,t.getActiveAll(d);case 14:m=e.sent,p=m.groupWidth,g=m.groupHeight,f=m.groupLeft,v=m.groupTop,b=m.bln,b||(i=p,a=g,n=f,s=f+p,o=v,r=v+g),w=[],y=Object(kt["a"])(d);try{for(y.s();!(_=y.n()).done;)C=_.value,void 0===C.className||C.className.includes(t.classNameActive)||null===C.getAttribute("data-is-snap")||"false"===C.getAttribute("data-is-snap")||(x=C.offsetWidth,k=C.offsetHeight,S=t.formatTransformVal(C.style.transform),R=Object(St["a"])(S,2),L=R[0],T=R[1],w.push({width:x,height:k,left:L,top:T}))}catch(et){y.e(et)}finally{y.f()}for(t.canvasRefLine.h.length>0&&t.canvasRefLine.h.forEach((function(e){w.push({width:0,height:t.parentHeight,left:e,top:0})})),t.canvasRefLine.v.length>0&&t.canvasRefLine.v.forEach((function(e){w.push({width:t.parentWidth,height:0,left:0,top:e})})),M=0,A=w;M<A.length;M++)for(E=A[M],$=E.width,O=E.height,I=E.left,N=E.top,P=I+$,z=N+O,D=Math.abs(o+a/2-(N+O/2))<=t.snapTolerance,W=Math.abs(n+i/2-(I+$/2))<=t.snapTolerance,B=Math.abs(N-r)<=t.snapTolerance,j=Math.abs(z-r)<=t.snapTolerance,H=Math.abs(N-o)<=t.snapTolerance,U=Math.abs(z-o)<=t.snapTolerance,F=Math.abs(I-s)<=t.snapTolerance,Y=Math.abs(P-s)<=t.snapTolerance,X=Math.abs(I-n)<=t.snapTolerance,V=Math.abs(P-n)<=t.snapTolerance,u["display"]=[B,j,H,U,D,D,F,Y,X,V,W,W],u["position"]=[N,z,N,z,N+O/2,N+O/2,I,P,I,P,I+$/2,I+$/2],B&&(b&&(t.top=N-a,t.bottom=t.parentHeight-t.top-a),u.value.y[0].push(I,P,n,s)),H&&(b&&(t.top=N,t.bottom=t.parentHeight-t.top-a),u.value.y[0].push(I,P,n,s)),j&&(b&&(t.top=z-a,t.bottom=t.parentHeight-t.top-a),u.value.y[1].push(I,P,n,s)),U&&(b&&(t.top=z,t.bottom=t.parentHeight-t.top-a),u.value.y[1].push(I,P,n,s)),F&&(b&&(t.left=I-i,t.right=t.parentWidth-t.left-i),u.value.x[0].push(N,z,o,r)),X&&(b&&(t.left=I,t.right=t.parentWidth-t.left-i),u.value.x[0].push(N,z,o,r)),Y&&(b&&(t.left=P-i,t.right=t.parentWidth-t.left-i),u.value.x[1].push(N,z,o,r)),V&&(b&&(t.left=P,t.right=t.parentWidth-t.left-i),u.value.x[1].push(N,z,o,r)),D&&(b&&(t.top=N+O/2-a/2,t.bottom=t.parentHeight-t.top-a),u.value.y[2].push(I,P,n,s)),W&&(b&&(t.left=I+$/2-i/2,t.right=t.parentWidth-t.left-i),u.value.x[2].push(N,z,o,r)),q=[0,1,0,1,2,2,0,1,0,1,2,2],G=0;G<=q.length;G++)K=G<6?"y":"x",J=G<6?"hLine":"vLine",u.display[G]&&(Q=t.calcLineValues(u.value[K][q[G]]),Z=Q.origin,tt=Q.length,c[J][q[G]].display=u.display[G],c[J][q[G]].position=u.position[G]+"px",c[J][q[G]].origin=Z,c[J][q[G]].lineLength=tt);t.$emit("refLineParams",c);case 28:case"end":return e.stop()}}),e)})))()},calcLineValues:function(t){var e=Math.max.apply(Math,Object(X["a"])(t))-Math.min.apply(Math,Object(X["a"])(t))+"px",i=Math.min.apply(Math,Object(X["a"])(t))+"px";return{length:e,origin:i}},getActiveAll:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,n,s,o,r,l,c,h,d,u,m,p,g,f,v,b,w,y,_;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=[],n=[],s=[],o=0,r=0,l=0,c=0,h=Object(kt["a"])(t);try{for(h.s();!(d=h.n()).done;)u=d.value,void 0!==u.className&&u.className.includes(e.classNameActive)&&a.push(u)}catch(C){h.e(C)}finally{h.f()}if(m=a.length,m>1){p=Object(kt["a"])(a);try{for(p.s();!(g=p.n()).done;)f=g.value,v=f.offsetLeft,b=v+f.offsetWidth,w=f.offsetTop,y=w+f.offsetHeight,n.push(w,y),s.push(v,b)}catch(C){p.e(C)}finally{p.f()}o=Math.max.apply(Math,s)-Math.min.apply(Math,s),r=Math.max.apply(Math,n)-Math.min.apply(Math,n),l=Math.min.apply(Math,s),c=Math.min.apply(Math,n)}return _=1===m,i.abrupt("return",{groupWidth:o,groupHeight:r,groupLeft:l,groupTop:c,bln:_});case 13:case"end":return i.stop()}}),i)})))()},formatTransformVal:function(t){var e=t.replace(/[^0-9\-,]/g,"").split(","),i=Object(St["a"])(e,2),a=i[0],n=i[1];return void 0===n&&(n=0),[+a,+n]}}},Bt=Wt,jt=Object(p["a"])(Bt,Ct,xt,!1,null,null,null),Ht=jt.exports,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container"},[t._t("default")],2)},Ft=[],Yt=i("53ca");i("a630"),i("fb6a"),i("4fad");function Xt(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var s,o=Object(kt["a"])(e);try{for(o.s();!(s=o.n()).done;){var r,l=s.value,c=Object(kt["a"])(i);try{for(c.s();!(r=c.n()).done;){var h=r.value;l[t](h,a,Object(Q["a"])({capture:!1},n))}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return Array.prototype.slice.call(arguments,1)}var Vt=Xt.bind(null,"addEventListener"),qt=Xt.bind(null,"removeEventListener"),Gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return"number"===typeof t?t+e:t};function Kt(t,e,i){var a=t&&t.style;if(a)if("object"===Object(Yt["a"])(e))for(var n=0,s=Object.entries(e);n<s.length;n++){var o=Object(St["a"])(s[n],2),r=o[0],l=o[1];a[r]=Gt(l)}else i&&"string"===typeof e&&(a[e]=Gt(i))}function Jt(t,e,i){switch(i||"touch"){case"center":var a=e.left+e.width/2,n=e.top+e.height/2;return a>=t.left&&a<=t.right&&n>=t.top&&n<=t.bottom;case"cover":return e.left>=t.left&&e.top>=t.top&&e.right<=t.right&&e.bottom<=t.bottom;case"touch":return t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom;default:throw new Error("Unkown intersection mode: ".concat(i))}}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;Array.isArray(t)||(t=[t]);for(var i=[],a=0,n=t.length;a<n;a++){var s=t[a];"string"===typeof s?i.push.apply(i,Object(X["a"])(e.querySelectorAll(s))):s instanceof e.defaultView.HTMLElement&&i.push(s)}return i}function Zt(t){var e=t.path||t.composedPath&&t.composedPath();if(e&&e.length>0)return e;var i=t.target;for(e=[i];i=i.parentElement;)e.push(i);return e.push(document,window),e}function te(t,e){var i=t.indexOf(e);~i&&t.splice(i,1)}function ee(t){var e=t.touches&&t.touches[0]||t;return{tap:e,x:e.clientX,y:e.clientY,target:e.target}}var ie=Math.abs,ae=Math.max,ne=Math.min,se=Math.round,oe=Math.ceil,re=function(t){return t.preventDefault()},le="undefined"===typeof window.DOMRect?window.ClientRect:window.DOMRect;function ce(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={options:Object.assign({class:"selection-area",frame:document,mode:"touch",tapMode:"native",startThreshold:10,singleClick:!0,disableTouch:!1,selectables:[],scrollSpeedDivider:10,manualScrollSpeed:750,startareas:["html"],boundaries:["html"],selectionAreaContainer:"body"},t),_stored:[],_selectables:[],_selected:[],_changed:{added:[],removed:[]},_eventListener:{beforestart:[],start:[],move:[],stop:[]},_area:null,_areaDomRect:null,_clippingElement:null,_scrollAvailable:!0,_scrollSpeed:{x:null,y:null},_init:function(){var t=e.options.frame;e._area=t.createElement("div"),e._clippingElement=t.createElement("div"),e._clippingElement.appendChild(e._area),e._area.classList.add(e.options.class),Kt(e._area,{willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"fixed"}),Kt(e._clippingElement,{overflow:"hidden",position:"fixed",transform:"translate3d(0, 0, 0)",pointerEvents:"none",zIndex:"2000"}),e.enable()},_bindStartEvents:function(t){var i=e.options.frame,a="on"===t?Vt:qt;a(i,"mousedown",e._onTapStart),e.options.disableTouch||a(i,"touchstart",e._onTapStart,{passive:!1})},_onTapStart:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=ee(t),n=a.x,s=a.y,o=a.target,r=e.options,l=r.startareas,c=r.boundaries,h=r.frame,d=o.getBoundingClientRect(),u=Qt(l,h);e._boundaries=Qt(c,h),e._targetContainer=e._boundaries.find((function(t){return Jt(t.getBoundingClientRect(),d)}));var m=Zt(t);e._targetContainer&&u.find((function(t){return m.includes(t)}))&&e._boundaries.find((function(t){return m.includes(t)}))&&(i||!1!==e._emit("beforestart",t))&&(e._ax1=n,e._ay1=s,e._ax2=0,e._ay2=0,e._singleClick=!0,e.clearSelection(!1),Vt(h,"selectstart",re),Vt(h,["touchmove","mousemove"],e._delayedTapMove,{passive:!1}),Vt(h,["mouseup","touchcancel","touchend"],e._onTapStop),t.preventDefault())},_onSingleTap:function(t){var i=e.options.tapMode,a=ee(t),n=null;if("native"===i)n=a.target;else{if("touch"!==i)throw new Error("Unknown tapMode option: ".concat(i));e.resolveSelectables();var s=a.x,o=a.y;n=e._selectables.find((function(t){var e=t.getBoundingClientRect(),i=e.right,a=e.left,n=e.top,r=e.bottom;return s<i&&s>a&&o<r&&o>n}))}if(!n)return!1;e.resolveSelectables();while(!e._selectables.includes(n)){if(!n.parentElement)return;n=n.parentElement}e._emit("start",t);var r=e._stored;if(t.shiftKey&&r.length){var l=r[r.length-1],c=4&l.compareDocumentPosition(n)?[n,l]:[l,n],h=Object(St["a"])(c,2),d=h[0],u=h[1],m=[].concat(Object(X["a"])(e._selectables.filter((function(t){return 4&t.compareDocumentPosition(d)&&2&t.compareDocumentPosition(u)}))),[n]);e.select(m),e._emit("move",t),e._emit("stop",t)}else e._stored.includes(n)?e.removeFromSelection(n):e.select(n),e._emit("move",t),e._emit("stop",t)},_delayedTapMove:function(t){var i=ee(t),a=i.x,n=i.y,s=e.options,o=s.startThreshold,r=s.frame,l=e._ax1,c=e._ay1,h=Object(Yt["a"])(o);if("number"===h&&ie(a+n-(l+c))>=o||"object"===h&&ie(a-l)>=o.x||ie(n-c)>=o.y){qt(r,["mousemove","touchmove"],e._delayedTapMove,{passive:!1}),Vt(r,["mousemove","touchmove"],e._onTapMove,{passive:!1}),Kt(e._area,"display","block"),Qt(e.options.selectionAreaContainer,r)[0].appendChild(e._clippingElement),e.resolveSelectables(),e._singleClick=!1;var d=e._targetBoundary=e._targetContainer.getBoundingClientRect();se(e._targetContainer.scrollHeight)!==se(d.height)||se(e._targetContainer.scrollWidth)!==se(d.width)?(e._scrollAvailable=!0,Vt(window,"wheel",e._manualScroll,{passive:!1}),e._selectables=e._selectables.filter((function(t){return e._targetContainer.contains(t)})),Kt(e._clippingElement,{top:d.top,left:d.left,width:d.width,height:d.height}),Kt(e._area,{marginTop:-d.top,marginLeft:-d.left})):(e._scrollAvailable=!1,Kt(e._clippingElement,{top:0,left:0,width:"100%",height:"100%"}),Kt(e._area,{marginTop:0,marginLeft:0})),e._onTapMove(t),e._emit("start",t)}t.preventDefault()},_onTapMove:function(t){var i=ee(t),a=i.x,n=i.y,s=e.options.scrollSpeedDivider,o=e._targetContainer,r=e._scrollSpeed;e._ax2=a,e._ay2=n,!e._scrollAvailable||null===r.y&&null===r.x?(e._recalcAreaRect(),e._updatedTouchingElements(),e._emit("move",t),e._redrawArea()):requestAnimationFrame((function i(){r=e._scrollSpeed;var a=null!==r.y,n=null!==r.x;if(a||n){var l=o.scrollTop,c=o.scrollLeft;a&&(o.scrollTop+=oe(r.y/s),e._ay1-=o.scrollTop-l),n&&(o.scrollLeft+=oe(r.x/s),e._ax1-=o.scrollLeft-c),e._recalcAreaRect(),e._updatedTouchingElements(),e._emit("move",t),e._redrawArea(),requestAnimationFrame(i)}})),t.preventDefault()},_manualScroll:function(t){var i=e.options.manualScrollSpeed,a=t.deltaY?t.deltaY>0?1:-1:0,n=t.deltaX?t.deltaX>0?1:-1:0;e._scrollSpeed.y+=a*i,e._scrollSpeed.x+=n*i,e._onTapMove(t),t.preventDefault()},_recalcAreaRect:function(){var t=e._targetContainer,i=t.scrollTop,a=t.scrollHeight,n=t.clientHeight,s=t.scrollLeft,o=t.scrollWidth,r=t.clientWidth,l=e._targetBoundary,c=e._scrollSpeed,h=e._ax2,d=e._ay2;h<l.left?(c.x=s?-ie(l.left-h):null,h=l.left):h>l.left+l.width?(c.x=o-s-r?ie(l.left+l.width-h):null,h=l.left+l.width):c.x=null,d<l.top?(c.y=i?-ie(l.top-d):null,d=l.top):d>l.top+l.height?(c.y=a-i-n?ie(l.top+l.height-d):null,d=l.top+l.height):c.y=null;var u=ne(e._ax1,h),m=ne(e._ay1,d),p=ae(e._ax1,h),g=ae(e._ay1,d);e._areaDomRect=new le(u,m,p-u,g-m)},_redrawArea:function(){var t=e._areaDomRect,i=t.x,a=t.y,n=t.width,s=t.height,o=e._area.style;o.transform="translate3d("+i+"px,"+a+"px, 0)",o.width=n+"px",o.height=s+"px"},_onTapStop:function(t,i){var a=e.options,n=a.frame,s=a.singleClick;qt(n,["mousemove","touchmove"],e._delayedTapMove),qt(n,["touchmove","mousemove"],e._onTapMove),qt(n,["mouseup","touchcancel","touchend"],e._onTapStop),t&&e._singleClick&&s?e._onSingleTap(t):e._singleClick||i||(e._updatedTouchingElements(),e._emit("stop",t)),e._scrollSpeed={x:null,y:null},qt(window,"wheel",e._manualScroll),e._clippingElement.remove(),qt(n,"selectstart",re),Kt(e._area,"display","none")},_updatedTouchingElements:function(){for(var t=e._selected,i=e._selectables,a=e.options,n=e._areaDomRect,s=a.mode,o=[],r=[],l=[],c=0;c<i.length;c++){var h=i[c];Jt(n,h.getBoundingClientRect(),s)&&(t.includes(h)||r.push(h),o.push(h))}for(var d=0;d<t.length;d++){var u=t[d];o.includes(u)||l.push(u)}e._selected=o,e._changed={added:r,removed:l}},_emit:function(t,i){var a,n=!0,s=Object(kt["a"])(e._eventListener[t]);try{for(s.s();!(a=s.n()).done;){var o=a.value;n=o.call(e,{inst:e,area:e._area,selected:e._selected.concat(e._stored),changed:e._changed,oe:i})&&n}}catch(r){s.e(r)}finally{s.f()}return n},trigger:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e._onTapStart(t,i)},on:function(t,i){return e._eventListener[t].push(i),e},off:function(t,i){var a=e._eventListener[t];if(a){var n=a.indexOf(i);~n&&a.splice(n,1)}return e},resolveSelectables:function(){e._selectables=Qt(e.options.selectables,e.options.frame)},keepSelection:function(){for(var t=e._selected,i=e._stored,a=0;a<t.length;a++){var n=t[a];i.includes(n)||i.push(n)}},clearSelection:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(e._stored=[]),e._selected=[],e._changed.added=[],e._changed.removed=[]},removeFromSelection:function(t){e._changed.removed.push(t),te(e._stored,t),te(e._selected,t)},getSelection:function(){return e._stored},cancel:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e._onTapStop(null,!t)},option:function(t,i){var a=e.options;return void 0===i?a[t]:a[t]=i},disable:function(){e._bindStartEvents("off")},destroy:function(){e.disable(),e._clippingElement.remove()},enable:function(){e._bindStartEvents("on")},select:function(t){var i,a,n=e._selected,s=e._stored,o=e.options,r=Qt(t,o.frame).filter((function(t){return!n.includes(t)&&!s.includes(t)}));return(i=e._selected).push.apply(i,Object(X["a"])(r)),(a=e._changed.added).push.apply(a,Object(X["a"])(r)),r}};return e._init(),e}ce.utils={on:Vt,off:qt,css:Kt,intersects:Jt,selectAll:Qt,eventPath:Zt,removeElement:te},ce.create=function(t){return ce(t)};var he=ce,de={name:"SelectionArea",props:{onBeforeStart:{type:Function,default:void 0},onStart:{type:Function,default:void 0},onMove:{type:Function,default:void 0},onStop:{type:Function,default:void 0},options:{type:Object,default:function(){return{}}}},data:function(){return{instance:null}},mounted:function(){this.instance=new he(Object(Q["a"])({boundaries:this.$refs.container},this.options)),this.instance.on("beforestart",this.onBeforeStart),this.instance.on("move",this.onMove),this.instance.on("start",this.onStart)},beforeUnmount:function(){this.instance.destroy()}},ue=de,me=Object(p["a"])(ue,Ut,Ft,!1,null,null,null),pe=me.exports,ge=(i("c715"),{name:"WorkArea",components:{SketchRuler:_t,sketchComps:Ht,Drop:l["Drop"],SelectionArea:pe},data:function(){return{ruler:{thick:20,width:500,height:400,startX:0,startY:0},crossLine:{x:0,y:0},rulerRefLine:{h:[100,220],v:[100,200]},isShowRuler:!0,isShowReferLine:!0,panMove:{isPanMode:!1,drag:{elem:null,x:0,y:0,startX:0,startY:0,state:!1}},x:0,y:0,compRefLineVertical:[],compRefLineHorizontal:[]}},computed:{selectedFrame:function(){var t=9999999,e=9999999,i=0,a=0;return 0===this.widgetSelected.length?{x:0,y:0,height:0,width:0}:(this.widgetSelected.forEach((function(n){var s=n.frame;t>s.x&&(t=s.x),e>s.y&&(e=s.y),s.x+s.width>a&&(a=s.x+s.width),s.y+s.height>i&&(i=s.y+s.height)})),i-=e,a-=t,{x:t,y:e,height:i,width:a})},widgetSelected:function(){return this.$store.getters["editor/widgetSelected"]},frame:function(){return this.$store.state.editor.document.frame},sketchComps:{get:function(){return this.$store.state.editor.pages[0].layers}},editScale:{get:function(){return this.$store.state.editor.viewOption.editScale},set:function(t){var e={editScale:t};this.$store.commit("editor/SET_VIEW_OPTION",e)}},mouseX:{get:function(){return this.$store.state.editor.viewOption.mouseX},set:function(t){var e={mouseX:t};this.$store.commit("editor/SET_VIEW_OPTION",e)}},mouseY:{get:function(){return this.$store.state.editor.viewOption.mouseY},set:function(t){var e={mouseY:t};this.$store.commit("editor/SET_VIEW_OPTION",e)}},shadow:function(){return{x:0,y:0,width:this.frame.width,height:this.frame.height}},canvasStyle:function(){return{width:this.frame.width+"px",height:this.frame.height+"px",transform:"scale(".concat(this.editScale,")")}}},watch:{editScale:function(){var t=this;this.$nextTick((function(){t.handleScroll()}))}},beforeDestroy:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("keydown",this.eventKeydown),document.removeEventListener("keyup",this.eventKeyup),this.$refs.workArea.removeEventListener("mousedown",this.eventMousedown),this.$refs.workArea.removeEventListener("mousemove",this.eventMousemove),this.$refs.workArea.removeEventListener("mouseup",this.eventMouseup)},mounted:function(){var t=this;this.$refs.screensRef.scrollLeft=this.$refs.canvasRef.getBoundingClientRect().width/2-this.frame.width/2,this.$nextTick((function(){t.initSize()})),this.ruler.width=this.$refs.workArea.clientWidth-this.ruler.thick,this.ruler.height=this.$refs.workArea.clientHeight-this.ruler.thick,window.addEventListener("resize",this.windowResize),document.addEventListener("keydown",this.eventKeydown),document.addEventListener("keyup",this.eventKeyup),this.$refs.workArea.addEventListener("mousedown",this.eventMousedown),this.$refs.workArea.addEventListener("mousemove",this.eventMousemove),this.$refs.workArea.addEventListener("mouseup",this.eventMouseup),this.$refs.canvas.addEventListener("mousemove",this.detectMouse)},methods:{onBeforeStart:function(t){t.area;var e=t.inst,i=(t.selected,t.oe);if(console.log("onBeforeStart",i.target),i.target.classList.contains("sketch-comp"))return e.cancel(),!1;if(i.target.classList.contains("sketch-comp-inner")){var a=[i.target.parentNode.getAttribute("comp")];return this.$store.commit("editor/CLEAR_WIDGET_SELECTION"),a.length>0&&this.$store.commit("editor/SELECT_WIDGET",a),e.cancel(),!1}i.target.classList.contains("screens")||this.$store.commit("editor/CLEAR_WIDGET_SELECTION")},onStart:function(t){t.event,t.selection},onMove:function(t){t.area,t.changed,t.inst,t.oe;var e=t.selected,i=e.map((function(t){return t.getAttribute("comp")}));this.$store.commit("editor/CLEAR_WIDGET_SELECTION"),i.length>0&&(console.log("selection",i),this.$store.commit("editor/SELECT_WIDGET",i))},handleSketchCompDrop:function(t){alert("You dropped with data: ".concat(JSON.stringify(t)))},windowResize:function(){var t=this;this.$nextTick((function(){t.ruler.width=t.$refs.workArea.clientWidth-t.ruler.thick,t.ruler.height=t.$refs.workArea.clientHeight-t.ruler.thick,t.handleScroll()}))},eventKeydown:function(t){if("input"!==t.target.nodeName.toLowerCase()&&"textarea"!==t.target.nodeName.toLowerCase())switch(t.keyCode){case 32:this.panMove.isPanMode=!0,t.stopPropagation(),t.preventDefault();break;case 8:case 46:break;default:}},eventKeyup:function(t){if("input"!==t.target.nodeName.toLowerCase())switch(t.keyCode){case 32:this.panMove.isPanMode=!1,t.stopPropagation(),t.preventDefault();break;default:}},eventMousedown:function(t){return!this.panMove.drag.state&&this.panMove.isPanMode&&(this.panMove.drag.x=t.pageX,this.panMove.drag.y=t.pageY,this.panMove.drag.startX=t.pageX,this.panMove.drag.startY=t.pageY,this.panMove.drag.state=!0),!1},detectMouse:function(t){var e=document.querySelector("#canvas").getBoundingClientRect();this.mouseY=parseInt((t.clientY-e.top)/this.editScale),this.mouseX=parseInt((t.clientX-e.left)/this.editScale)},eventMousemove:function(t){if(this.panMove.drag.state&&this.panMove.isPanMode){var e=document.getElementById("screens").scrollLeft-t.pageX+this.panMove.drag.x,i=document.getElementById("screens").scrollTop-t.pageY+this.panMove.drag.y;document.getElementById("screens").scrollLeft=e>0?e:0,document.getElementById("screens").scrollTop=i>0?i:0,this.panMove.drag.x=t.pageX,this.panMove.drag.y=t.pageY}var a=this.$refs.workArea.getBoundingClientRect(),n=t.clientX,s=t.clientY;return this.$refs.workArea.scrollTop>0&&(s+=this.$refs.workArea.scrollTop),this.crossLine.x=n-a.left,this.crossLine.y=s-a.top,!1},eventMouseup:function(t){return this.panMove.drag.state&&(this.panMove.drag.state=!1),!1},handleLine:function(t){this.rulerRefLine=t},handleCornerClick:function(){},handleScroll:function(){var t=document.querySelector("#screens").getBoundingClientRect(),e=document.querySelector("#canvas").getBoundingClientRect(),i=(t.left+this.ruler.thick-e.left)/this.editScale,a=(t.top+this.ruler.thick-e.top)/this.editScale;this.ruler.startX=i>>0,this.ruler.startY=a>>0},handleWheel:function(t){var e=this;if(t.ctrlKey||t.metaKey){t.preventDefault();var i=parseFloat(Math.max(.125,this.editScale-t.deltaY/500).toFixed(2));this.editScale=i}this.$nextTick((function(){e.handleScroll()}))},initSize:function(){var t=document.querySelector("#workArea").getBoundingClientRect(),e=1;this.ruler.width=t.width-this.ruler.thick-e,this.ruler.height=t.height-this.ruler.thick-e},addState:function(){this.$store.commit("editor/ADD_STATE")},onResized:function(t,e,i,a,n){console.log(n),this.$store.commit("editor/UPDATE_COMPS_FRAME",{id:n.$id,frame:{height:a,width:i,x:t,y:e}}),this.addState()},onDraged:function(t,e,i){console.log(i),this.$store.commit("editor/UPDATE_COMPS_FRAME",{id:i.$id,frame:{x:t,y:e}}),this.addState()},onGroupDrag:function(t,e){var i=this,a=t-this.selectedFrame.x,n=e-this.selectedFrame.y;this.widgetSelected.forEach((function(t){i.$store.commit("editor/UPDATE_COMPS_FRAME",{id:t.$id,frame:{x:t.frame.x+a,y:t.frame.y+n}})}))},getRefLineParams:function(t){if(t.vline)for(var e=0;e<t.vline.length;e++)t.vline[e].id=e;if(t.hline)for(var i=0;i<t.hline.length;i++)t.hline[i].id=i;var a=t.vLine,n=t.hLine;this.compRefLineVertical=a,this.compRefLineHorizontal=n}}}),fe=ge,ve=(i("27d2"),i("e3f2"),Object(p["a"])(fe,H,U,!1,null,"4c098768",null)),be=ve.exports,we={components:{LibraryPanel:f,LayerPanel:M,SettingPanel:N,InteractionPanel:j,WorkArea:be,CloudPanel:x},data:function(){return{showAppSideBar:!0,sidebarTab:"cloud",fullscreen:!1}},computed:{editScale:{get:function(){return this.$store.state.editor.viewOption.editScale},set:function(t){var e={editScale:t};this.$store.commit("editor/SET_VIEW_OPTION",e)}},mouseX:function(){return this.$store.state.editor.viewOption.mouseX},mouseY:function(){return this.$store.state.editor.viewOption.mouseY},isAuxiliaryLineShow:{get:function(){return this.$store.state.editor.viewOption.isAuxiliaryLine},set:function(t){var e={editScale:this.$store.state.editor.viewOption.editScale,isGrid:this.$store.state.editor.viewOption.isGrid,isRuler:this.$store.state.editor.viewOption.isRuler,isAuxiliaryLine:t};this.$store.commit("editor/SET_VIEW_OPTION",e)}},isUndoEnabled:function(){return this.$store.getters["editor/isUndoEnabled"]},isRedoEnabled:function(){return this.$store.getters["editor/isRedoEnabled"]}},watch:{},created:function(){},mounted:function(){this.init()},beforeMount:function(){},beforeDestroy:function(){},methods:{init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$store.dispatch("editor/loadEditFile");case 3:return e.next=5,new Promise((function(t){return setTimeout(t,8e3)}));case 5:t.isLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},preview:function(){this.save(),this.$router.push({path:"/viewer"})},save:function(){this.$store.dispatch("editor/saveEditFile")},saveDashboardPageSetting:function(t){},saveWidgetItemSetting:function(t){this.addState()},addState:function(){this.$store.commit("editor/ADD_STATE")},lockWidget:function(){0!==this.widgetSelectedWithUnLock.length&&this.$refs.workArea.lockWidgetContextmenu()},unlockWidget:function(){0!==this.widgetSelectedWithLock.length&&this.$refs.workArea.unlockWidgetContextmenu()},selectAllWidget:function(){this.$refs.workArea.selectAllWidget()},pasteWidget:function(){this.widgetCopied.length>0&&this.$refs.workArea.pasteWidget()},copyWidget:function(){console.log(this.widgetSelected.length),this.widgetSelected.length>0&&(this.$refs.workArea.copyWidget(),console.log(this.widgetCopied))},deleteWidget:function(){this.widgetSelected.length>0&&this.$refs.workArea.deleteWidget()},zoomIn:function(){this.editScale<3&&(this.editScale+=.25)},zoomOut:function(){this.editScale>.5&&(this.editScale-=.25)},toggleFullScreen:function(){this.$fullscreen.toggle(document.body,{wrap:!1})},toggleSidebar:function(){this.showAppSideBar=!this.showAppSideBar,this.$nextTick((function(){setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100)}))}}},ye=we,_e=(i("d791"),i("2b00"),Object(p["a"])(ye,a,n,!1,null,null,null));e["default"]=_e.exports},b665:function(t,e,i){"use strict";i("4daa")},c715:function(t,e,i){},d791:function(t,e,i){"use strict";i("9325")},df53:function(t,e,i){},e3f2:function(t,e,i){"use strict";i("7463")},eacf:function(t,e,i){"use strict";i("1ae1")}}]);